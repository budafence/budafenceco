<script>
(function () {
  // --- Force Quote to navigate (fixes iOS tap conflicts) ---
  function forceNavigate(el, url) {
    if (!el) return;
    ["click", "touchend"].forEach(function(evt) {
      el.addEventListener(evt, function(e) {
        // Kill anything else trying to hijack this tap
        e.preventDefault();
        e.stopPropagation();
        e.stopImmediatePropagation();

        // Navigate
        window.location.href = url;
      }, { passive: false });
    });
  }

  // Mobile quote button
  var quoteBtn = document.getElementById("mobileQuoteBtn");
  forceNavigate(quoteBtn, "/contact");

  // OPTIONAL: if your menu quote button exists too
  // (uncomment if you add id="mobileMenuQuoteBtn" inside the dropdown)
  // var menuQuoteBtn = document.getElementById("mobileMenuQuoteBtn");
  // forceNavigate(menuQuoteBtn, "/contact");

  // --- Make sure ONLY the menu button toggles the menu ---
  var menu = document.getElementById("mobile-menu");
  var menuButton = document.getElementById("menuButton");

  if (menuButton && menu) {
    menuButton.addEventListener("click", function(e) {
      e.stopPropagation();
      e.preventDefault();
      menu.classList.toggle("active");
      menuButton.setAttribute("aria-expanded", menu.classList.contains("active") ? "true" : "false");
    }, { passive: false });
  }

  // Close menu when clicking a link in it
  if (menu) {
    menu.addEventListener("click", function(e) {
      var t = e.target;
      if (t && t.tagName === "A") {
        menu.classList.remove("active");
        if (menuButton) menuButton.setAttribute("aria-expanded", "false");
      }
    });
  }
})();
</script>